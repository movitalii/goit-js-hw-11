{"mappings":"AAGA,IAAIA,EAAO,EACX,MAAMC,EAAQ,GAEd,SAASC,EAAYC,GAIjB,OAHIA,IAAgBF,EAAMA,EAAMG,OAAS,KAC7BJ,EAAO,GAEZK,MAAM,qEAAgCF,kEAA4EH,iBACpHM,MAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAI7B,OAFAT,EAAMU,KAAKR,GACXH,GAAQ,EACDO,EAASK,UCjB5B,MAAMC,EAASC,SAASC,cAAc,gBAChCC,EAAQF,SAASC,cAAc,YAC/BE,EAAcH,SAASC,cAAc,cAC3CF,EAAOK,iBAAiB,UAMxB,SAAsBC,GACpBA,EAAMC,iBAgDNJ,EAAMK,UAAY,GA7ClBC,EAAOH,EAAMI,cAAcC,SAASrB,YAAYsB,MAEhDvB,EAAYoB,GACThB,MAAKoB,GACGA,EAAKC,OAEbrB,KAAKsB,GACPC,OAAMC,GAASC,QAAQC,IAAIF,QAhB9Bb,EAAYC,iBAAiB,SAmB7B,WACEhB,EAAYoB,GACThB,MAAK2B,GACGA,EAAKN,OAEbrB,KAAKsB,GACPC,OAAMC,GAASC,QAAQC,IAAIF,QAtB9B,IAAIR,EAAO,GAyBX,SAASM,EAAYM,GACnB,MAAMC,EAASD,EACZE,KAAKC,GACO,iDACKA,EAAMC,sBAAsBD,EAAME,gIAG/BF,EAAMG,0FAGNH,EAAMI,6FAGHJ,EAAMK,kGAGJL,EAAMM,sEAK3BC,KAAK,IACN5B,EAAM6B,mBAAmB,YAAaV","sources":["src/fetchPhotos.js","src/index.js"],"sourcesContent":["const API_KEY = '30062649-6c95f8a5f26546f2640c7031e';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nlet page = 1;\nconst query = [];\n\nfunction fetchPhotos(searchQuery) {\n    if (searchQuery !== query[query.length - 1]) {\n                page = 1;\n            }\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`)\n        .then(response => {            \n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            query.push(searchQuery);         \n            page += 1;             \n            return response.json();            \n        });\n};\n\nexport { fetchPhotos };\n\n// export default class PixApiService {\n//     constructor() {\n//         this.data = '';\n//         this.page = 1;\n//     }\n\n//     fetchPhotos() {\n//         const API_KEY = '30062649-6c95f8a5f26546f2640c7031e';\n//         const BASE_URL = 'https://pixabay.com/api/';\n\n//         fetch(`${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=1&per_page=40`)\n//         .then(response => {\n//             if (!response.ok) {\n//                 throw new Error(response.status);\n//             }\n//             return response.json();\n//         });\n//     }\n\n//     get query() {\n//         return this.searchQuery;\n//     }\n\n//     set query(newQuery) {\n//         this.searchQuery = newQuery;\n//     }\n// }","const formEl = document.querySelector('#search-form');\nconst divEl = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nformEl.addEventListener('submit', onFormSubmit);\nloadMoreBtn.addEventListener('click', onLoadMore);\nimport { fetchPhotos } from './fetchPhotos';\n\nlet data = '';\n\nfunction onFormSubmit(event) {\n  event.preventDefault();  \n  clearGalleryContainer()\n\n  data = event.currentTarget.elements.searchQuery.value;\n\n  fetchPhotos(data)\n    .then(data => {      \n      return data.hits;\n    })\n    .then(renderCards)\n  .catch(error => console.log(error))\n}\n\nfunction onLoadMore() {\n  fetchPhotos(data)\n    .then(data => {      \n      return data.hits;\n    })\n    .then(renderCards)\n  .catch(error => console.log(error))\n}\n\nfunction renderCards(photos) {\n  const markup = photos\n    .map((photo) => {\n          return `<div class=\"photo-card\">\n          <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" loading=\"lazy\" />\n          <div class=\"info\">\n            <p class=\"info-item\">            \n              <b>Likes ${photo.likes}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Views ${photo.views}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Comments ${photo.comments}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Downloades ${photo.downloads}</b>\n            </p>\n          </div>\n        </div>`;\n        })\n        .join(\"\");\n        divEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearGalleryContainer() {\n  divEl.innerHTML = '';\n}"],"names":["$8239a7b43006364b$var$page","$8239a7b43006364b$var$query","$8239a7b43006364b$export$5caf5a6e1fbce8f1","searchQuery","length","fetch","then","response","ok","Error","status","push","json","$1f0dc3b9307be026$var$formEl","document","querySelector","$1f0dc3b9307be026$var$divEl","$1f0dc3b9307be026$var$loadMoreBtn","addEventListener","event","preventDefault","innerHTML","$1f0dc3b9307be026$var$data","currentTarget","elements","value","data1","hits","$1f0dc3b9307be026$var$renderCards","catch","error","console","log","data2","photos","markup","map","photo","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML"],"version":3,"file":"index.532decd7.js.map"}