{"mappings":"YAAA,IAGIA,EAAO,EACLC,EAAQ,GAEd,SAASC,EAAYC,GAIjB,OAHIA,IAAgBF,EAAMA,EAAMG,OAAS,KAC7BJ,EAAO,GAEZK,MAAM,GAAmBC,OATnB,2BASY,SAAoBA,OAVjC,qCAU4B,OAAiFA,OAA5EH,EAAY,kEAAqEG,OAALN,EAAK,iBACzHO,MAAK,SAAAC,GACF,IAAKA,EAASC,GACV,MAAM,IAAIC,MAAMF,EAASG,QAI7B,OAFAV,EAAMW,KAAKT,GACXH,GAAQ,EACDQ,EAASK,UCjB5B,IAAMC,EAASC,SAASC,cAAc,gBAChCC,EAAQF,SAASC,cAAc,YAC/BE,EAAcH,SAASC,cAAc,cAC3CF,EAAOK,iBAAiB,UAMxB,SAAsBC,GACpBA,EAAMC,iBAINnB,EAFAoB,EAAOF,EAAMG,cAAcC,SAASrB,YAAYsB,OAG7ClB,MAAK,SAAAmB,GAEJ,OADAC,QAAQC,IAAIF,EAAKG,MACVH,EAAKG,QAEbtB,KAAKuB,GACPC,OAAM,SAAAC,G,OAASL,QAAQC,IAAII,SAhB9Bd,EAAYC,iBAAiB,SAmB7B,WACEjB,EAAYoB,GACTf,MAAK,SAAA0B,GAEJ,OADAN,QAAQC,IAAIK,EAAKJ,MACVI,EAAKJ,QAEbtB,KAAKuB,GACPC,OAAM,SAAAC,G,OAASL,QAAQC,IAAII,SAvB9B,IAAIV,EAAO,GA0BX,SAASQ,EAAYI,GACnB,IAAMC,EAASD,EACZE,KAAI,SAACC,GACA,MAAO,iDACiC/B,OAA5B+B,EAAMC,aAAa,WAGhBhC,OAHyB+B,EAAME,KAAK,6HAMpCjC,OAHA+B,EAAMG,MAAM,sFAMTlC,OAHH+B,EAAMI,MAAM,yFAMPnC,OAHF+B,EAAMK,SAAS,2FAGGpC,OAAhB+B,EAAMM,UAAU,+DAKrCC,KAAK,IACN3B,EAAM4B,mBAAmB,YAAaV,I","sources":["src/fetchPhotos.js","src/index.js"],"sourcesContent":["const API_KEY = '30062649-6c95f8a5f26546f2640c7031e';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nlet page = 1;\nconst query = [];\n\nfunction fetchPhotos(searchQuery) {\n    if (searchQuery !== query[query.length - 1]) {\n                page = 1;\n            }\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`)\n        .then(response => {            \n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            query.push(searchQuery);         \n            page += 1;             \n            return response.json();            \n        });\n};\n\nexport { fetchPhotos };\n\n// export default class PixApiService {\n//     constructor() {\n//         this.data = '';\n//         this.page = 1;\n//     }\n\n//     fetchPhotos() {\n//         const API_KEY = '30062649-6c95f8a5f26546f2640c7031e';\n//         const BASE_URL = 'https://pixabay.com/api/';\n\n//         fetch(`${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=1&per_page=40`)\n//         .then(response => {\n//             if (!response.ok) {\n//                 throw new Error(response.status);\n//             }\n//             return response.json();\n//         });\n//     }\n\n//     get query() {\n//         return this.searchQuery;\n//     }\n\n//     set query(newQuery) {\n//         this.searchQuery = newQuery;\n//     }\n// }","const formEl = document.querySelector('#search-form');\nconst divEl = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.load-more');\nformEl.addEventListener('submit', onFormSubmit);\nloadMoreBtn.addEventListener('click', onLoadMore);\nimport { fetchPhotos } from './fetchPhotos';\n\nlet data = '';\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  \n  data = event.currentTarget.elements.searchQuery.value;\n\n  fetchPhotos(data)\n    .then(data => {\n      console.log(data.hits);\n      return data.hits;\n    })\n    .then(renderCards)\n  .catch(error => console.log(error))\n}\n\nfunction onLoadMore() {\n  fetchPhotos(data)\n    .then(data => {\n      console.log(data.hits);\n      return data.hits;\n    })\n    .then(renderCards)\n  .catch(error => console.log(error))\n}\n\nfunction renderCards(photos) {\n  const markup = photos\n    .map((photo) => {\n          return `<div class=\"photo-card\">\n          <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" loading=\"lazy\" />\n          <div class=\"info\">\n            <p class=\"info-item\">            \n              <b>Likes ${photo.likes}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Views ${photo.views}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Comments ${photo.comments}</b>\n            </p>\n            <p class=\"info-item\">\n              <b>Downloades ${photo.downloads}</b>\n            </p>\n          </div>\n        </div>`;\n        })\n        .join(\"\");\n        divEl.insertAdjacentHTML('beforeend', markup);\n}"],"names":["$f3a2d4938c501c2c$var$page","$f3a2d4938c501c2c$var$query","$f3a2d4938c501c2c$export$5caf5a6e1fbce8f1","searchQuery","length","fetch","concat","then","response","ok","Error","status","push","json","$b8f9b7833fa37166$var$formEl","document","querySelector","$b8f9b7833fa37166$var$divEl","$b8f9b7833fa37166$var$loadMoreBtn","addEventListener","event","preventDefault","$b8f9b7833fa37166$var$data","currentTarget","elements","value","data1","console","log","hits","$b8f9b7833fa37166$var$renderCards","catch","error","data2","photos","markup","map","photo","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML"],"version":3,"file":"index.801983aa.js.map"}